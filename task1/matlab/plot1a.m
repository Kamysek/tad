figure;
% set containing the cameras
vSet = imageviewset;

% cameras for images
% dsc_9743
% rotation
R = [0.9976252717125496, -0.06881131280028482, 0.002969927804231873;
    -0.02287993905332709, -0.3717677713091523, -0.9280437665351466;
    0.06496403335213284, 0.9257719629836103, -0.3724593225093121];
% translation
t = [0.05106145916191025 -0.4737588385725847 0.2630533186404239];
pose = rigid3d(R,t);
vSet = addView(vSet, 1, pose);

% direction
d = [0.06496403335213284, 0.9257719629836103, -0.3724593225093121];
dsc9743 = [t; d];
line(dsc9743(:,1), dsc9743(:,2), dsc9743(:,3))
hold on

% dsc_9744
% rotation
R1 = [0.6178155669092023, 0.786269122239265, 0.00920829505153653;
    0.2993456338691325, -0.224351529426312, -0.9273934347015628;
    -0.7271149267950341, 0.5757145635270747, -0.3739740961279029];
% translation
t1 = [0.5031591771370681, -0.2844030337767311, 0.2703410272836497];
pose1 = rigid3d(R1,t1);
vSet = addView(vSet, 2, pose1);

% direction
d1 = [-0.7271149267950341, 0.5757145635270747, -0.3739740961279029];
dsc9744 = [t1; d1];
line(dsc9744(:,1), dsc9744(:,2), dsc9744(:,3))
hold on

% dsc_9745
% rotation
R2 = [0.05243659935333211, 0.9983758522558795, 0.02227241972944111;
    0.3549105308948822, 0.002215730099507929, -0.9348976444510056;
    -0.9334285822215704, 0.05692756952894096, -0.3542179184052617];
% translation
t2 = [0.6027504456015947, 0.02890823599689885, 0.2666950275857007];
pose2 = rigid3d(R2,t2);
vSet = addView(vSet, 3, pose2);

% direction
d2 = [-0.9334285822215704, 0.05692756952894096, -0.3542179184052617];
dsc9745 = [t2; d2];
line(dsc9745(:,1), dsc9745(:,2), dsc9745(:,3))
hold on

% dsc_9746
% rotation
R3 = [-0.6600147978709817, 0.7505489400451283, 0.03250777120107989;
    0.2564159258187005, 0.2657367199638667, -0.9293195729400002;
    -0.7061383289256191, -0.6050291598427139, -0.367842868847765];
% translation
t3 = [0.465132615955684, 0.3914858383170777, 0.2761563897954025];
pose3 = rigid3d(R3,t3);
vSet = addView(vSet, 4, pose3);

% direction
d3 = [-0.7061383289256191, -0.6050291598427139, -0.367842868847765];
dsc9746 = [t3; d3];
line(dsc9746(:,1), dsc9746(:,2), dsc9746(:,3))
hold on

% dsc_9747
% rotation
R4 = [-0.9999853200108568, -0.002529157228803821, 0.004791985652768776;
    -0.0053973030203233, 0.3868512125017141, -0.9221263517035291;
    0.0004784170682170562, -0.9221386786973343, -0.3868591841580643];
% translation
t4 = [0.08152051188516382, 0.5252561936149714, 0.2752011726677261];
pose4 = rigid3d(R4,t4);
vSet = addView(vSet, 5, pose4);

% direction
d4 = [0.0004784170682170562, -0.9221386786973343, -0.3868591841580643];
dsc9747 = [t4; d4];
line(dsc9747(:,1), dsc9747(:,2), dsc9747(:,3))
hold on

% dsc_9748
% rotation
R5 = [-0.6018894077719897, -0.7985700318002413, -0.00387880425454451;
    -0.2665846987280232, 0.2055010458129938, -0.9416485111621293;
    0.7527693798342043, -0.5657342348491272, -0.3365754541016027];
% translation
t5 = [-0.352000929700742, 0.3428206495621576, 0.274699593942667];
pose5 = rigid3d(R5,t5);
vSet = addView(vSet, 6, pose5);

% direction
d5 = [0.7527693798342043, -0.5657342348491272, -0.3365754541016027];
dsc9748 = [t5; d5];
line(dsc9748(:,1), dsc9748(:,2), dsc9748(:,3))
hold on

% dsc_9749
% rotation
R6 = [0.1162029350624708, -0.9926372100151521, -0.034179631013252;
    -0.2687500404906953, 0.001705120173643437, -0.9632084448869016;
    0.9561748237739356, 0.1211134255915845, -0.2665731504153313];
% translation
t6 = [-0.4673745444531269, 0.0324290413831624, 0.2781677803388009];
pose6 = rigid3d(R6,t6);
vSet = addView(vSet, 7, pose6);

% direction
d6 = [0.9561748237739356, 0.1211134255915845, -0.2665731504153313];
dsc9749 = [t6; d6];
line(dsc9749(:,1), dsc9749(:,2), dsc9749(:,3))
hold on

% dsc_9750
% rotation
R7 = [0.6634089323759083, -0.7477936277842537, 0.02633018589227737;
    -0.1737982304098503, -0.1882213888440755, -0.9666265483049862;
    0.7277930774267241, 0.6366925467027803, -0.2548329598440246];
% translation
t7 = [-0.317270985405635, -0.3353869545502937, 0.2698556192017632];
pose7 = rigid3d(R7,t7);
vSet = addView(vSet, 8, pose7);

% direction
d7 = [0.7277930774267241, 0.6366925467027803, -0.2548329598440246];
dsc9750 = [t7; d7];
line(dsc9750(:,1), dsc9750(:,2), dsc9750(:,3))
hold on

% extract camera poses
camPoses = poses(vSet);

% plot camera poses.
plotCamera(camPoses, 'Size', 0.02);
hold on

% tea box
verts = ([0, 0.063, 0.093;
          0.165, 0.063, 0.093;
          0.165, 0, 0.093;
          0, 0, 0.093;
          0, 0.063, 0;
          0.165, 0.063, 0;
          0.165, 0, 0;
          0, 0, 0]);
face = [1 2 3 4;5 6 7 8;3 4 8 7;1 2 6 5;2 3 7 6;1 4 8 5];
h = patch('Faces',face,'Vertices',verts,'FaceColor','red','EdgeColor','black');
hold on

grid on
axis equal

% size
xlim([-0.7 0.7]);
ylim([-0.7 0.7]);
zlim([0 0.35]);

view(60,15);

title('Camera Poses');